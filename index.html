<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DuckDB Terminal</title>
    <link rel="icon" type="image/svg+xml" href="/duck.svg" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
        overflow: hidden;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
          Roboto, sans-serif;
        background: #1e1e1e;
        color: #d4d4d4;
      }

      #app {
        display: flex;
        flex-direction: row;
        height: 100%;
      }

      .sidebar {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: #252526;
        border-right: 1px solid #3c3c3c;
        flex-shrink: 0;
        width: 48px;
      }

      .sidebar-top {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        flex: 1;
      }

      .sidebar-bottom {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        padding-bottom: 8px;
      }

      .sidebar-item {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 48px;
        height: 48px;
        cursor: pointer;
        position: relative;
        color: #858585;
        transition: color 0.15s;
      }

      .sidebar-item:hover {
        color: #ffffff;
      }

      .sidebar-item.active {
        color: #ffffff;
      }

      .sidebar-item.active::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 2px;
        background: #ffffff;
      }

      .sidebar-item svg {
        width: 24px;
        height: 24px;
      }

      .sidebar-icon {
        font-size: 22px;
        line-height: 1;
        user-select: none;
      }

      .sidebar-item[title]:hover::after {
        content: attr(title);
        position: absolute;
        left: 52px;
        top: 50%;
        transform: translateY(-50%);
        background: #252526;
        border: 1px solid #454545;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 12px;
        white-space: nowrap;
        color: #cccccc;
        z-index: 1000;
        pointer-events: none;
      }

      .theme-select {
        background: transparent;
        border: none;
        color: #858585;
        cursor: pointer;
        font-size: 12px;
        padding: 0;
        width: 48px;
        height: 48px;
        text-align: center;
        appearance: none;
        -webkit-appearance: none;
        transition: color 0.15s;
      }

      .theme-select:hover {
        color: #ffffff;
      }

      .theme-select:focus {
        outline: none;
        color: #ffffff;
      }

      #terminal-container {
        flex: 1;
        overflow: hidden;
        padding: 10px 0 10px 10px;
      }

      /* Ensure terminal canvas extends to edge */
      #terminal-container > div {
        width: 100% !important;
      }

      .loading {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        gap: 16px;
      }

      .loading-spinner {
        width: 40px;
        height: 40px;
        border: 3px solid #3c3c3c;
        border-top-color: #007acc;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .loading-text {
        font-size: 14px;
        color: #888;
      }

      /* Light theme */
      body.light {
        background: #ffffff;
        color: #1e1e1e;
      }

      body.light .sidebar {
        background: #f3f3f3;
        border-right-color: #e0e0e0;
      }

      body.light .sidebar-item {
        color: #616161;
      }

      body.light .sidebar-item:hover {
        color: #1e1e1e;
      }

      body.light .sidebar-item.active {
        color: #1e1e1e;
      }

      body.light .sidebar-item.active::before {
        background: #1e1e1e;
      }

      body.light .sidebar-item[title]:hover::after {
        background: #f3f3f3;
        border-color: #d4d4d4;
        color: #1e1e1e;
      }

      body.light .theme-select {
        color: #616161;
      }

      body.light .theme-select:hover,
      body.light .theme-select:focus {
        color: #1e1e1e;
      }

      /* Tokyo Night theme */
      body.tokyo-night {
        background: #1a1b26;
        color: #a9b1d6;
      }

      body.tokyo-night .sidebar {
        background: #16161e;
        border-right-color: #292e42;
      }

      body.tokyo-night .sidebar-item {
        color: #565f89;
      }

      body.tokyo-night .sidebar-item:hover {
        color: #c0caf5;
      }

      body.tokyo-night .sidebar-item.active {
        color: #c0caf5;
      }

      body.tokyo-night .sidebar-item.active::before {
        background: #7aa2f7;
      }

      body.tokyo-night .sidebar-item[title]:hover::after {
        background: #16161e;
        border-color: #292e42;
        color: #a9b1d6;
      }

      body.tokyo-night .theme-select {
        color: #565f89;
      }

      body.tokyo-night .theme-select:hover,
      body.tokyo-night .theme-select:focus {
        color: #c0caf5;
      }

      /* Dracula theme */
      body.dracula {
        background: #282a36;
        color: #f8f8f2;
      }

      body.dracula .sidebar {
        background: #21222c;
        border-right-color: #44475a;
      }

      body.dracula .sidebar-item {
        color: #6272a4;
      }

      body.dracula .sidebar-item:hover {
        color: #f8f8f2;
      }

      body.dracula .sidebar-item.active {
        color: #f8f8f2;
      }

      body.dracula .sidebar-item.active::before {
        background: #bd93f9;
      }

      body.dracula .sidebar-item[title]:hover::after {
        background: #21222c;
        border-color: #44475a;
        color: #f8f8f2;
      }

      body.dracula .theme-select {
        color: #6272a4;
      }

      body.dracula .theme-select:hover,
      body.dracula .theme-select:focus {
        color: #f8f8f2;
      }

      /* Solarized Dark theme */
      body.solarized-dark {
        background: #002b36;
        color: #839496;
      }

      body.solarized-dark .sidebar {
        background: #073642;
        border-right-color: #586e75;
      }

      body.solarized-dark .sidebar-item {
        color: #586e75;
      }

      body.solarized-dark .sidebar-item:hover {
        color: #93a1a1;
      }

      body.solarized-dark .sidebar-item.active {
        color: #93a1a1;
      }

      body.solarized-dark .sidebar-item.active::before {
        background: #268bd2;
      }

      body.solarized-dark .sidebar-item[title]:hover::after {
        background: #073642;
        border-color: #586e75;
        color: #93a1a1;
      }

      body.solarized-dark .theme-select {
        color: #586e75;
      }

      body.solarized-dark .theme-select:hover,
      body.solarized-dark .theme-select:focus {
        color: #93a1a1;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <aside class="sidebar">
        <div class="sidebar-top">
          <div class="sidebar-item active" title="Terminal">
            <span class="sidebar-icon">ðŸ¦†</span>
          </div>
        </div>
        <div class="sidebar-bottom">
          <div class="sidebar-item" title="Settings">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
            <select class="theme-select" id="theme-select" style="position: absolute; opacity: 0; cursor: pointer;">
              <option value="dark">Dark</option>
              <option value="light">Light</option>
              <option value="tokyo-night">Tokyo Night</option>
              <option value="dracula">Dracula</option>
              <option value="solarized-dark">Solarized Dark</option>
            </select>
          </div>
        </div>
      </aside>
      <div id="terminal-container" />
    </div>
    <script type="module" src="/src/index.ts"></script>
  </body>
</html>
